2025-05-13 23:00:18,629 - automate_newsletter - INFO - Starting newsletter automation process
2025-05-13 23:00:18,629 - automate_newsletter - INFO - Processing unsubscribes...
2025-05-13 23:00:18,630 - process_unsubscribes - INFO - Starting unsubscribe processing...
2025-05-13 23:00:19,429 - process_unsubscribes - INFO - No unsubscribed emails to process
2025-05-13 23:00:19,429 - automate_newsletter - INFO - Unsubscribe processing completed successfully
2025-05-13 23:00:19,429 - automate_newsletter - INFO - Processing newsletter for date: 2025-05-12
2025-05-13 23:00:19,429 - automate_newsletter - INFO - Starting newsletter generation...
2025-05-13 23:00:19,430 - main - INFO - Starting news scraper
2025-05-13 23:00:20,484 - news_scraper_visir - INFO - Retrieved 218 articles from visir RSS feed
2025-05-13 23:00:20,486 - news_scraper_visir - INFO - Found 104 articles from visir for 2025-05-12
2025-05-13 23:00:20,486 - news_scraper_visir - INFO - Processing article 1 of 104 from visir
2025-05-13 23:00:30,307 - news_scraper_visir - INFO - Processing article 11 of 104 from visir
2025-05-13 23:00:39,453 - news_scraper_visir - INFO - Processing article 21 of 104 from visir
2025-05-13 23:00:48,696 - news_scraper_visir - INFO - Processing article 31 of 104 from visir
2025-05-13 23:00:57,195 - news_scraper_visir - INFO - Processing article 41 of 104 from visir
2025-05-13 23:01:06,108 - news_scraper_visir - INFO - Processing article 51 of 104 from visir
2025-05-13 23:01:14,439 - news_scraper_visir - INFO - Processing article 61 of 104 from visir
2025-05-13 23:01:23,115 - news_scraper_visir - INFO - Processing article 71 of 104 from visir
2025-05-13 23:01:31,643 - news_scraper_visir - INFO - Processing article 81 of 104 from visir
2025-05-13 23:01:40,089 - news_scraper_visir - INFO - Processing article 91 of 104 from visir
2025-05-13 23:01:48,385 - news_scraper_visir - INFO - Processing article 101 of 104 from visir
2025-05-13 23:01:51,733 - news_scraper_visir - INFO - Completed processing 104 articles from visir
2025-05-13 23:01:51,733 - main - INFO - Processed 104 Visir articles
2025-05-13 23:02:06,652 - news_scraper_mbl - INFO - Retrieved 465 articles from mbl RSS feed
2025-05-13 23:02:06,655 - news_scraper_mbl - INFO - Found 57 articles from mbl for 2025-05-12
2025-05-13 23:02:06,655 - news_scraper_mbl - INFO - Processing article 1 of 57 from mbl
2025-05-13 23:02:15,486 - news_scraper_mbl - INFO - Processing article 11 of 57 from mbl
2025-05-13 23:02:35,566 - news_scraper_mbl - INFO - Processing article 21 of 57 from mbl
2025-05-13 23:02:52,089 - news_scraper_mbl - INFO - Processing article 31 of 57 from mbl
2025-05-13 23:03:08,506 - news_scraper_mbl - INFO - Processing article 41 of 57 from mbl
2025-05-13 23:03:22,942 - news_scraper_mbl - INFO - Processing article 51 of 57 from mbl
2025-05-13 23:03:29,630 - news_scraper_mbl - WARNING - Failed to get content for article: Amber Heard eignaðist tvíbura
2025-05-13 23:03:31,433 - news_scraper_mbl - WARNING - Failed to get content for article: Eurovision-ævintýrið: „Ég hef aldrei vitað annað eins“
2025-05-13 23:03:31,433 - news_scraper_mbl - INFO - Completed processing 55 articles from mbl
2025-05-13 23:03:31,434 - main - INFO - Processed 55 MBL articles
2025-05-13 23:03:35,464 - news_scraper_vb - INFO - Retrieved 150 articles from vb RSS feed
2025-05-13 23:03:35,466 - news_scraper_vb - INFO - Found 27 articles from vb for 2025-05-12
2025-05-13 23:03:35,466 - news_scraper_vb - INFO - Processing article 1 of 27 from vb
2025-05-13 23:03:39,585 - news_scraper_vb - INFO - Processing article 11 of 27 from vb
2025-05-13 23:03:47,661 - news_scraper_vb - INFO - Processing article 21 of 27 from vb
2025-05-13 23:03:49,623 - news_scraper_vb - INFO - Completed processing 27 articles from vb
2025-05-13 23:03:49,624 - main - INFO - Processed 27 VB articles
2025-05-13 23:03:51,375 - news_scraper_ruv - INFO - Retrieved 160 articles from ruv RSS feed
2025-05-13 23:03:51,376 - news_scraper_ruv - INFO - Found 42 articles from ruv for 2025-05-12
2025-05-13 23:03:51,377 - news_scraper_ruv - INFO - Processing article 1 of 42 from ruv
2025-05-13 23:03:53,438 - news_scraper_ruv - INFO - Processing article 11 of 42 from ruv
2025-05-13 23:03:55,984 - news_scraper_ruv - INFO - Processing article 21 of 42 from ruv
2025-05-13 23:03:58,265 - news_scraper_ruv - INFO - Processing article 31 of 42 from ruv
2025-05-13 23:03:58,670 - news_scraper_ruv - WARNING - Failed to get content for article: Sjáðu mörkin: Markaflóð í Laugardalnum
2025-05-13 23:04:00,237 - news_scraper_ruv - INFO - Processing article 41 of 42 from ruv
2025-05-13 23:04:00,901 - news_scraper_ruv - INFO - Completed processing 41 articles from ruv
2025-05-13 23:04:00,901 - main - INFO - Processed 41 RUV articles
2025-05-13 23:04:00,909 - main - INFO - Saved 227 total articles to src/outputs/news/json/news_articles_2025-05-12.json
2025-05-13 23:04:00,909 - main - INFO - Starting newsletter generator
2025-05-13 23:04:00,909 - main - INFO - Generating daily_morning newsletter...
2025-05-13 23:04:00,914 - newsletter_generator - INFO - Loaded 227 articles from src/outputs/news/json/news_articles_2025-05-12.json
2025-05-13 23:04:00,914 - newsletter_generator - INFO - Generating NewsletterType.DAILY_MORNING newsletter for 2025-05-12
2025-05-13 23:04:01,579 - newsletter_generator - INFO - Estimated prompt tokens: 229491
2025-05-13 23:05:06,836 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 23:05:06,843 - newsletter_generator - INFO - Completion tokens: 6916
2025-05-13 23:05:06,843 - newsletter_generator - INFO - Total tokens used: 177662
2025-05-13 23:05:06,843 - newsletter_generator - INFO - Newsletter generation completed
2025-05-13 23:05:06,844 - newsletter_generator - INFO - Saved newsletter to: src/outputs/newsletters/daily_morning/daily_morning_2025-05-12.json
2025-05-13 23:05:06,844 - main - INFO - Saved daily_morning newsletter to: src/outputs/newsletters/daily_morning/daily_morning_2025-05-12.json
2025-05-13 23:05:06,845 - main - INFO - Starting newsletter formatter
2025-05-13 23:05:06,845 - main - INFO - Formatting daily_morning newsletter...
2025-05-13 23:05:06,846 - newsletter_formatter - INFO - Found keys in newsletter content: ['date', 'main_headline', 'summary', 'key_events', 'domestic_news', 'foreign_news', 'business', 'famous_people', 'sports', 'arts', 'science', 'closing_summary']
2025-05-13 23:05:06,846 - newsletter_formatter - INFO - Newsletter HTML formatting completed
2025-05-13 23:05:06,847 - newsletter_formatter - INFO - Saved formatted newsletter to: src/outputs/formatted_newsletters/daily_morning/daily_morning_2025-05-12.html
2025-05-13 23:05:06,847 - main - INFO - Formatted newsletter saved to: src/outputs/formatted_newsletters/daily_morning/daily_morning_2025-05-12.html
2025-05-13 23:05:06,847 - automate_newsletter - INFO - Newsletter generation completed successfully
2025-05-13 23:05:06,847 - automate_newsletter - INFO - Updating index...
2025-05-13 23:05:06,847 - update_index - INFO - Starting index update...
2025-05-13 23:05:06,850 - update_index - INFO - Found 5 newsletter files
2025-05-13 23:05:06,850 - update_index - INFO - Updated latest newsletter link for date: 2025-05-12
2025-05-13 23:05:06,851 - update_index - INFO - Updated newsletter list with 5 entries
2025-05-13 23:05:06,852 - update_index - INFO - Successfully wrote updated index.html
2025-05-13 23:05:06,852 - update_index - INFO - Index update completed successfully
2025-05-13 23:05:06,852 - automate_newsletter - INFO - Updating index completed successfully
2025-05-13 23:05:06,852 - automate_newsletter - INFO - Sending newsletter...
2025-05-13 23:05:07,583 - send_newsletter - INFO - Found newsletter file: src/outputs/formatted_newsletters/daily_morning/daily_morning_2025-05-12.html
2025-05-13 23:05:08,811 - send_newsletter - INFO - Newsletter sent to mrbadboy0110@gmail.com
2025-05-13 23:05:08,821 - send_newsletter - INFO - Newsletter sent to 1 subscribers
2025-05-13 23:05:08,821 - automate_newsletter - INFO - Newsletter sending completed successfully
2025-05-13 23:05:08,821 - automate_newsletter - INFO - Newsletter automation completed successfully
