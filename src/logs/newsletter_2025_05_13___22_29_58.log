2025-05-13 22:29:58,021 - automate_newsletter - INFO - Starting newsletter automation process
2025-05-13 22:29:58,021 - automate_newsletter - INFO - Processing unsubscribes...
2025-05-13 22:29:58,021 - process_unsubscribes - INFO - Starting unsubscribe processing...
2025-05-13 22:29:59,197 - process_unsubscribes - INFO - No unsubscribed emails to process
2025-05-13 22:29:59,197 - automate_newsletter - INFO - Unsubscribe processing completed successfully
2025-05-13 22:29:59,198 - automate_newsletter - INFO - Processing newsletter for date: 2025-05-12
2025-05-13 22:29:59,198 - automate_newsletter - INFO - Starting newsletter generation...
2025-05-13 22:29:59,198 - main - INFO - Starting news scraper
2025-05-13 22:29:59,376 - news_scraper_visir - INFO - Retrieved 216 articles from visir RSS feed
2025-05-13 22:29:59,377 - news_scraper_visir - INFO - Found 104 articles from visir for 2025-05-12
2025-05-13 22:29:59,377 - news_scraper_visir - INFO - Processing article 1 of 104 from visir
2025-05-13 22:30:00,797 - news_scraper_visir - INFO - Processing article 11 of 104 from visir
2025-05-13 22:30:02,309 - news_scraper_visir - INFO - Processing article 21 of 104 from visir
2025-05-13 22:30:03,665 - news_scraper_visir - INFO - Processing article 31 of 104 from visir
2025-05-13 22:30:05,371 - news_scraper_visir - INFO - Processing article 41 of 104 from visir
2025-05-13 22:30:06,762 - news_scraper_visir - INFO - Processing article 51 of 104 from visir
2025-05-13 22:30:08,105 - news_scraper_visir - INFO - Processing article 61 of 104 from visir
2025-05-13 22:30:09,502 - news_scraper_visir - INFO - Processing article 71 of 104 from visir
2025-05-13 22:30:10,942 - news_scraper_visir - INFO - Processing article 81 of 104 from visir
2025-05-13 22:30:12,433 - news_scraper_visir - INFO - Processing article 91 of 104 from visir
2025-05-13 22:30:13,788 - news_scraper_visir - INFO - Processing article 101 of 104 from visir
2025-05-13 22:30:14,344 - news_scraper_visir - INFO - Completed processing 104 articles from visir
2025-05-13 22:30:14,344 - main - INFO - Processed 104 Visir articles
2025-05-13 22:30:16,148 - news_scraper_mbl - INFO - Retrieved 464 articles from mbl RSS feed
2025-05-13 22:30:16,150 - news_scraper_mbl - INFO - Found 58 articles from mbl for 2025-05-12
2025-05-13 22:30:16,150 - news_scraper_mbl - INFO - Processing article 1 of 58 from mbl
2025-05-13 22:30:23,363 - news_scraper_mbl - INFO - Processing article 11 of 58 from mbl
2025-05-13 22:30:31,829 - news_scraper_mbl - INFO - Processing article 21 of 58 from mbl
2025-05-13 22:30:40,403 - news_scraper_mbl - INFO - Processing article 31 of 58 from mbl
2025-05-13 22:30:52,111 - news_scraper_mbl - INFO - Processing article 41 of 58 from mbl
2025-05-13 22:30:58,815 - news_scraper_mbl - INFO - Processing article 51 of 58 from mbl
2025-05-13 22:30:59,415 - news_scraper_mbl - WARNING - Failed to get content for article: Amber Heard eignaðist tvíbura
2025-05-13 22:30:59,609 - news_scraper_mbl - WARNING - Failed to get content for article: Eurovision-ævintýrið: „Ég hef aldrei vitað annað eins“
2025-05-13 22:30:59,609 - news_scraper_mbl - INFO - Completed processing 56 articles from mbl
2025-05-13 22:30:59,609 - main - INFO - Processed 56 MBL articles
2025-05-13 22:31:00,592 - news_scraper_vb - INFO - Retrieved 150 articles from vb RSS feed
2025-05-13 22:31:00,593 - news_scraper_vb - INFO - Found 27 articles from vb for 2025-05-12
2025-05-13 22:31:00,593 - news_scraper_vb - INFO - Processing article 1 of 27 from vb
2025-05-13 22:31:04,333 - news_scraper_vb - INFO - Processing article 11 of 27 from vb
2025-05-13 22:31:08,325 - news_scraper_vb - INFO - Processing article 21 of 27 from vb
2025-05-13 22:31:11,824 - news_scraper_vb - INFO - Completed processing 27 articles from vb
2025-05-13 22:31:11,824 - main - INFO - Processed 27 VB articles
2025-05-13 22:31:13,306 - news_scraper_ruv - INFO - Retrieved 160 articles from ruv RSS feed
2025-05-13 22:31:13,307 - news_scraper_ruv - INFO - Found 42 articles from ruv for 2025-05-12
2025-05-13 22:31:13,307 - news_scraper_ruv - INFO - Processing article 1 of 42 from ruv
2025-05-13 22:31:16,015 - news_scraper_ruv - INFO - Processing article 11 of 42 from ruv
2025-05-13 22:31:18,907 - news_scraper_ruv - INFO - Processing article 21 of 42 from ruv
2025-05-13 22:31:21,711 - news_scraper_ruv - INFO - Processing article 31 of 42 from ruv
2025-05-13 22:31:22,334 - news_scraper_ruv - WARNING - Failed to get content for article: Sjáðu mörkin: Markaflóð í Laugardalnum
2025-05-13 22:31:24,665 - news_scraper_ruv - INFO - Processing article 41 of 42 from ruv
2025-05-13 22:31:25,208 - news_scraper_ruv - INFO - Completed processing 41 articles from ruv
2025-05-13 22:31:25,208 - main - INFO - Processed 41 RUV articles
2025-05-13 22:31:25,219 - main - INFO - Saved 228 total articles to src/outputs/news/json/news_articles_2025-05-12.json
2025-05-13 22:31:25,220 - main - INFO - Starting newsletter generator
2025-05-13 22:31:25,220 - main - INFO - Generating daily_morning newsletter...
2025-05-13 22:31:25,226 - newsletter_generator - INFO - Loaded 228 articles from src/outputs/news/json/news_articles_2025-05-12.json
2025-05-13 22:31:25,227 - newsletter_generator - INFO - Generating NewsletterType.DAILY_MORNING newsletter for 2025-05-12
2025-05-13 22:31:25,444 - newsletter_generator - INFO - Estimated prompt tokens: 230109
2025-05-13 22:32:15,526 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 22:32:15,613 - newsletter_generator - INFO - Completion tokens: 6499
2025-05-13 22:32:15,613 - newsletter_generator - INFO - Total tokens used: 177743
2025-05-13 22:32:15,613 - newsletter_generator - INFO - Newsletter generation completed
2025-05-13 22:32:15,617 - newsletter_generator - INFO - Saved newsletter to: src/outputs/newsletters/daily_morning/daily_morning_2025-05-12.json
2025-05-13 22:32:15,617 - main - INFO - Saved daily_morning newsletter to: src/outputs/newsletters/daily_morning/daily_morning_2025-05-12.json
2025-05-13 22:32:15,619 - main - INFO - Starting newsletter formatter
2025-05-13 22:32:15,619 - main - INFO - Formatting daily_morning newsletter...
2025-05-13 22:32:15,620 - newsletter_formatter - INFO - Found keys in newsletter content: ['date', 'main_headline', 'summary', 'key_events', 'domestic_news', 'foreign_news', 'business', 'famous_people', 'sports', 'arts', 'science', 'closing_summary']
2025-05-13 22:32:15,620 - newsletter_formatter - INFO - Newsletter HTML formatting completed
2025-05-13 22:32:15,621 - newsletter_formatter - INFO - Saved formatted newsletter to: src/outputs/formatted_newsletters/daily_morning/daily_morning_2025-05-12.html
2025-05-13 22:32:15,621 - main - INFO - Formatted newsletter saved to: src/outputs/formatted_newsletters/daily_morning/daily_morning_2025-05-12.html
2025-05-13 22:32:15,621 - automate_newsletter - INFO - Newsletter generation completed successfully
2025-05-13 22:32:15,621 - automate_newsletter - INFO - Updating index...
2025-05-13 22:32:15,621 - update_index - INFO - Starting index update...
2025-05-13 22:32:15,621 - update_index - INFO - Index update completed successfully
2025-05-13 22:32:15,621 - automate_newsletter - INFO - Updating index completed successfully
2025-05-13 22:32:15,621 - automate_newsletter - INFO - Sending newsletter...
2025-05-13 22:32:17,476 - newsletter - ERROR - Newsletters directory not found
2025-05-13 22:32:17,476 - newsletter - ERROR - No newsletter content found
2025-05-13 22:32:17,476 - automate_newsletter - INFO - Newsletter sending completed successfully
2025-05-13 22:32:17,476 - automate_newsletter - INFO - Newsletter automation completed successfully
